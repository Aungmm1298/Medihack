<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ผู้ป่วย / Patient Dashboard - Patient Flow Analytics System</title>
    <link rel="icon" type="image/png" href="images/mfu-logo.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-header">
                <div class="navbar-brand">
                    <div class="navbar-logo">
                        <img src="images/mfu-logo.png" alt="MFU Logo" onerror="this.style.display='none'">
                    </div>
                    <div class="logo-divider"></div>
                    <div class="navbar-title">
                        <h1>โรงพยาบาลศูนย์การแพทย์มหาวิทยาลัยแม่ฟ้าหลวง</h1>
                        <p>MAE FAH LUANG UNIVERSITY MEDICAL CENTER HOSPITAL - Patient Portal</p>
                    </div>
                </div>
                <div class="navbar-logo-right">
                    <div class="mfu-logo-text">MFU<br>MCH</div>
                </div>
            </div>
            <div class="navbar-menu-wrapper">
                <ul class="navbar-menu">
                    <li><a href="patient-dashboard.html">Dashboard</a></li>
                    <li><a href="#" id="userName" style="background-color: rgba(0, 0, 0, 0.1); font-weight: 600;">Patient</a></li>
                    <li><a href="#" onclick="logout()" style="background-color: var(--alert-red); font-weight: 600;">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Dashboard Layout -->
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <ul class="sidebar-menu">
                <li><a href="#overview" class="active" id="overviewLink" onclick="showOverview(); return false;">ภาพรวม / Overview</a></li>
                <li><a href="#queue" id="queueLink" onclick="showQueue(); return false;">ตรวจสอบคิว / Check Queue</a></li>
                <li><a href="#progress" id="progressLink" onclick="showProgress(); return false;">ตรวจสอบความคืบหน้า / Check Progress</a></li>
                <li><a href="#instructions" id="instructionsLink" onclick="showInstructions(); return false;">คำแนะนำแพทย์ / Doctor Instructions</a></li>
                <li><a href="#waittime" id="waittimeLink" onclick="showWaitTime(); return false;">เวลารอ AI & แจ้งเตือน / AI Wait Time & Alerts</a></li>
                <li><a href="#map" id="mapLink" onclick="showMap(); return false;">แผนที่ / View Map</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">แดชบอร์ดผู้ป่วย / Patient Dashboard</h2>
            
            <!-- Welcome Card -->
            <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); border-left: 6px solid var(--mfu-green);">
                <h3 style="color: var(--mfu-green); margin-bottom: 1rem;">ยินดีต้อนรับ / Welcome</h3>
                <p style="color: var(--text-secondary); font-size: 1.125rem; line-height: 1.6;">
                    ระบบจะเพิ่มฟีเจอร์ต่างๆ เร็วๆ นี้<br>
                    Features will be added soon
                </p>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div>
                <h4>Patient Flow Analytics System</h4>
                <p>Mae Fah Luang University Medical Center Hospital</p>
            </div>
            <div>
                <h4>ติดต่อเรา / Contact</h4>
                <p>โทร: 053-916-999</p>
                <p>Email: info@mfumch.ac.th</p>
            </div>
            <div>
                <h4>Quick Links</h4>
                <p><a href="#">ช่วยเหลือ / Help</a></p>
                <p><a href="#">คำถามที่พบบ่อย / FAQ</a></p>
            </div>
            <div>
                <h4>ระบบ / System</h4>
                <p>Version 1.0.0</p>
                <p>© 2026 MFU Medical Center</p>
            </div>
        </div>
    </footer>

    <script>
        // Check if user is logged in
        if (sessionStorage.getItem('loggedIn') !== 'true' || sessionStorage.getItem('userRole') !== 'patient') {
            window.location.href = 'login.html?role=patient';
        }

        // Display user name
        const userId = sessionStorage.getItem('userId');
        if (userId) {
            document.getElementById('userName').textContent = userId;
        }

        // Logout function
        function logout() {
            if (confirm('ต้องการออกจากระบบหรือไม่? / Do you want to logout?')) {
                sessionStorage.clear();
                window.location.href = 'index.html';
            }
        }

        // Update active menu
        function updateActiveMenu(activeId) {
            const menuIds = ['overviewLink', 'queueLink', 'progressLink', 'instructionsLink', 'waittimeLink', 'mapLink'];
            menuIds.forEach(id => {
                document.getElementById(id).classList.remove('active');
            });
            document.getElementById(activeId).classList.add('active');
        }

        // Show Overview
        function showOverview() {
            updateActiveMenu('overviewLink');
            
            document.getElementById('mainContent').innerHTML = `
                <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">แดชบอร์ดผู้ป่วย / Patient Dashboard</h2>
                
                <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); border-left: 6px solid var(--mfu-green);">
                    <h3 style="color: var(--mfu-green); margin-bottom: 1rem;">ยินดีต้อนรับ / Welcome</h3>
                    <p style="color: var(--text-secondary); font-size: 1.125rem; line-height: 1.6;">
                        ระบบจะเพิ่มฟีเจอร์ต่างๆ เร็วๆ นี้<br>
                        Features will be added soon
                    </p>
                </div>
            `;
        }

        // Show Queue
        function showQueue() {
            updateActiveMenu('queueLink');
            
            document.getElementById('mainContent').innerHTML = `
                <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">ตรวจสอบคิว / Check Queue</h2>
                
                <!-- Alert for current queue status -->
                <div class="alert alert-success" style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #d1fae5; border: 1px solid #10b981; border-radius: 8px; margin-bottom: 1.5rem;">
                    <div>
                        <strong style="color: #065f46;">คุณอยู่ในคิว / You are in the queue</strong><br>
                        <span style="color: #047857;">หมายเลขคิวของคุณจะถูกเรียกในอีกประมาณ <strong id="waitTimeAlert">15 นาที</strong> / Your queue number will be called in about <strong>15 minutes</strong></span>
                    </div>
                </div>

                <!-- Current Queue Status Card -->
                <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); border-left: 6px solid var(--mfu-green);">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem;">
                        <div>
                            <h3 style="color: var(--text-secondary); font-size: 1.125rem; font-weight: 500; margin-bottom: 0.5rem;">
                                หมายเลขคิวของคุณ / Your Queue Number
                            </h3>
                            <div style="font-size: 5rem; font-weight: 700; color: var(--mfu-green); line-height: 1;">
                                A-042
                            </div>
                            <p style="color: var(--text-secondary); font-size: 1.125rem; margin-top: 0.5rem;">
                                แผนก OPD / Outpatient Department
                            </p>
                        </div>
                        <div style="text-align: right;">
                            <h4 style="color: var(--text-secondary); font-size: 1.125rem; margin-bottom: 0.5rem;">
                                เวลารอโดยประมาณ<br>Estimated Wait Time
                            </h4>
                            <div style="font-size: 4rem; font-weight: 700; color: var(--gold-nav); line-height: 1;">
                                15<span style="font-size: 2rem;"> นาที</span>
                            </div>
                            <div style="font-size: 1.75rem; color: var(--text-secondary);">
                                15 minutes
                            </div>
                            <p style="color: var(--text-secondary); font-size: 0.95rem; margin-top: 1rem;">
                                ทำนายโดย AI / Predicted by AI
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Queue Progress -->
                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">ความคืบหน้า / Queue Progress</h3>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span style="font-size: 1.125rem;">คิวปัจจุบัน / Current Queue: <strong>A-038</strong></span>
                            <span style="font-size: 1.125rem;">คิวของคุณ / Your Queue: <strong>A-042</strong></span>
                        </div>
                        <div style="background-color: var(--bg-gray); height: 30px; border-radius: 15px; overflow: hidden;">
                            <div style="background: linear-gradient(90deg, var(--mfu-green) 0%, var(--mfu-green-light) 100%); height: 100%; width: 75%; transition: width 0.5s ease;"></div>
                        </div>
                        <p style="text-align: center; color: var(--text-secondary); margin-top: 0.75rem; font-size: 1.125rem;">
                            เหลืออีก 4 คน / 4 patients ahead
                        </p>
                    </div>
                </div>

                <!-- Real-time Queue Display -->
                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">คิวปัจจุบัน / Current Queue</h3>
                    </div>
                    <div class="queue-list">
                        <div class="queue-item" style="background-color: #D1FAE5; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--mfu-green); min-width: 80px;">A-038</div>
                            <div style="flex: 1; padding: 0 1rem;">
                                <h4 style="margin: 0 0 0.25rem 0; font-size: 1rem;">กำลังรับบริการ / Currently Serving</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">ห้องตรวจ 3 / Room 3 - Dr. สมชาย วรรณสุข</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="background: #10B981; color: white; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600; white-space: nowrap;">กำลังตรวจ / In Progress</span>
                            </div>
                        </div>

                        <div class="queue-item" style="padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border-gray);">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--text-secondary); min-width: 80px;">A-039</div>
                            <div style="flex: 1; padding: 0 1rem;">
                                <h4 style="margin: 0 0 0.25rem 0; font-size: 1rem;">ถัดไป / Next</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">รอเรียก / Waiting to be called</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="background: #FEF3C7; color: #92400e; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600; white-space: nowrap;">รอเรียก / Waiting</span>
                                <div style="margin-top: 0.25rem; color: var(--text-secondary); font-size: 0.875rem;">~12 นาที / min</div>
                            </div>
                        </div>

                        <div class="queue-item" style="padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border-gray);">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--text-secondary); min-width: 80px;">A-040</div>
                            <div style="flex: 1; padding: 0 1rem;">
                                <h4 style="margin: 0 0 0.25rem 0; font-size: 1rem;">รอคิว / In Queue</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">แผนก OPD / Outpatient</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="background: #FEF3C7; color: #92400e; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600; white-space: nowrap;">รอคิว / Waiting</span>
                                <div style="margin-top: 0.25rem; color: var(--text-secondary); font-size: 0.875rem;">~14 นาที / min</div>
                            </div>
                        </div>

                        <div class="queue-item" style="padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border-gray);">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--text-secondary); min-width: 80px;">A-041</div>
                            <div style="flex: 1; padding: 0 1rem;">
                                <h4 style="margin: 0 0 0.25rem 0; font-size: 1rem;">รอคิว / In Queue</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">แผนก OPD / Outpatient</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="background: #FEF3C7; color: #92400e; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600; white-space: nowrap;">รอคิว / Waiting</span>
                                <div style="margin-top: 0.25rem; color: var(--text-secondary); font-size: 0.875rem;">~15 นาที / min</div>
                            </div>
                        </div>

                        <div class="queue-item" style="background-color: #FEF3C7; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; border: 3px solid var(--gold-nav);">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--gold-nav); min-width: 80px;">A-042</div>
                            <div style="flex: 1; padding: 0 1rem;">
                                <h4 style="margin: 0 0 0.25rem 0; font-size: 1rem; color: var(--gold-nav);">คุณ / YOU</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;"><strong>นาย สมศักดิ์ ใจดี</strong> - แผนก OPD</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="background: #F59E0B; color: white; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600; white-space: nowrap;">รอคิว / Waiting</span>
                                <div style="margin-top: 0.25rem; color: var(--gold-nav); font-size: 0.875rem; font-weight: 600;">~15 นาที / min</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Today's Appointment Details -->
                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">รายละเอียดการนัดหมายวันนี้ / Today's Appointment</h3>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                        <div>
                            <h4 style="color: var(--text-secondary); font-size: 1rem; margin-bottom: 0.5rem;">แพทย์ / Doctor</h4>
                            <p style="font-size: 1.25rem; font-weight: 600; margin: 0;">นพ. สมชาย วรรณสุข</p>
                            <p style="font-size: 1rem; color: var(--text-secondary); margin: 0.25rem 0 0 0;">Dr. Somchai Wannasuk</p>
                        </div>
                        <div>
                            <h4 style="color: var(--text-secondary); font-size: 1rem; margin-bottom: 0.5rem;">แผนก / Department</h4>
                            <p style="font-size: 1.25rem; font-weight: 600; margin: 0;">อายุรกรรม / Internal Medicine</p>
                            <p style="font-size: 1rem; color: var(--text-secondary); margin: 0.25rem 0 0 0;">Outpatient Department (OPD)</p>
                        </div>
                        <div>
                            <h4 style="color: var(--text-secondary); font-size: 1rem; margin-bottom: 0.5rem;">เวลานัด / Appointment Time</h4>
                            <p style="font-size: 1.25rem; font-weight: 600; margin: 0;">10:30 น. / AM</p>
                            <p style="font-size: 1rem; color: var(--text-secondary); margin: 0.25rem 0 0 0;">14 กุมภาพันธ์ 2026</p>
                        </div>
                        <div>
                            <h4 style="color: var(--text-secondary); font-size: 1rem; margin-bottom: 0.5rem;">ห้องตรวจ / Room</h4>
                            <p style="font-size: 1.25rem; font-weight: 600; margin: 0;">ห้อง 3 / Room 3</p>
                            <p style="font-size: 1rem; color: var(--text-secondary); margin: 0.25rem 0 0 0;">ชั้น 2 อาคาร OPD</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div style="margin-top: 2rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="refreshQueue()">
                        รีเฟรชข้อมูล / Refresh
                    </button>
                    <button class="btn btn-secondary" onclick="alert('การแจ้งเตือนเปิดอยู่แล้ว / Notifications are enabled')">
                        เปิดการแจ้งเตือน / Enable Notifications
                    </button>
                    <button class="btn btn-gold" onclick="window.print()">
                        พิมพ์ใบคิว / Print Queue Number
                    </button>
                </div>
            `;
        }

        // Refresh queue
        function refreshQueue() {
            alert('กำลังรีเฟรชข้อมูล... / Refreshing data...\n\nข้อมูลคิวได้รับการอัพเดทแล้ว / Queue data updated');
            showQueue();
        }

        // Show Progress
        function showProgress() {
            updateActiveMenu('progressLink');
            
            document.getElementById('mainContent').innerHTML = `
                <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">ตรวจสอบความคืบหน้า / Check Progress</h2>
                
                <!-- Progress Timeline -->
                <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); border-left: 6px solid var(--mfu-green);">
                    <h3 style="color: var(--mfu-green); margin-bottom: 1.5rem;">สถานะการรักษาของคุณ / Your Treatment Progress</h3>
                    
                    <div style="position: relative; padding-left: 2rem;">
                        <!-- Timeline Item 1 - Completed -->
                        <div style="position: relative; padding-bottom: 2rem;">
                            <div style="position: absolute; left: -2rem; top: 0; width: 20px; height: 20px; background: var(--mfu-green); border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px var(--mfu-green);"></div>
                            <div style="position: absolute; left: -1.5rem; top: 20px; width: 2px; height: calc(100% - 20px); background: var(--mfu-green);"></div>
                            <div style="background: #d1fae5; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--mfu-green);">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                    <h4 style="margin: 0; color: var(--mfu-green);">ลงทะเบียน / Registration</h4>
                                    <span style="background: var(--mfu-green); color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem;">เสร็จสิ้น / Completed</span>
                                </div>
                                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary);">เวลา: 09:00 น. / Time: 09:00 AM</p>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">ลงทะเบียนเรียบร้อยแล้ว / Successfully registered</p>
                            </div>
                        </div>

                        <!-- Timeline Item 2 - Completed -->
                        <div style="position: relative; padding-bottom: 2rem;">
                            <div style="position: absolute; left: -2rem; top: 0; width: 20px; height: 20px; background: var(--mfu-green); border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px var(--mfu-green);"></div>
                            <div style="position: absolute; left: -1.5rem; top: 20px; width: 2px; height: calc(100% - 20px); background: var(--mfu-green);"></div>
                            <div style="background: #d1fae5; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--mfu-green);">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                    <h4 style="margin: 0; color: var(--mfu-green);">ชำระเงิน / Payment</h4>
                                    <span style="background: var(--mfu-green); color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem;">เสร็จสิ้น / Completed</span>
                                </div>
                                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary);">เวลา: 09:15 น. / Time: 09:15 AM</p>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">ชำระค่าบริการเรียบร้อย / Payment completed</p>
                            </div>
                        </div>

                        <!-- Timeline Item 3 - In Progress -->
                        <div style="position: relative; padding-bottom: 2rem;">
                            <div style="position: absolute; left: -2rem; top: 0; width: 20px; height: 20px; background: #3B82F6; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #3B82F6;"></div>
                            <div style="position: absolute; left: -1.5rem; top: 20px; width: 2px; height: calc(100% - 20px); background: #e5e7eb;"></div>
                            <div style="background: #dbeafe; padding: 1rem; border-radius: 8px; border-left: 4px solid #3B82F6;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                    <h4 style="margin: 0; color: #3B82F6;">รอพบแพทย์ / Waiting for Doctor</h4>
                                    <span style="background: #3B82F6; color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem;">กำลังดำเนินการ / In Progress</span>
                                </div>
                                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary);">คิวของคุณ: A-042 / Your Queue: A-042</p>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">เหลืออีก 4 คน ประมาณ 15 นาที / 4 patients ahead, about 15 minutes</p>
                            </div>
                        </div>

                        <!-- Timeline Item 4 - Pending -->
                        <div style="position: relative; padding-bottom: 2rem;">
                            <div style="position: absolute; left: -2rem; top: 0; width: 20px; height: 20px; background: #e5e7eb; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #e5e7eb;"></div>
                            <div style="position: absolute; left: -1.5rem; top: 20px; width: 2px; height: calc(100% - 20px); background: #e5e7eb;"></div>
                            <div style="background: #f9fafb; padding: 1rem; border-radius: 8px; border-left: 4px solid #e5e7eb;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                    <h4 style="margin: 0; color: var(--text-secondary);">ตรวจร่างกาย / Physical Examination</h4>
                                    <span style="background: #e5e7eb; color: var(--text-secondary); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem;">รอดำเนินการ / Pending</span>
                                </div>
                                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">รอพบแพทย์ / Waiting for doctor</p>
                            </div>
                        </div>

                        <!-- Timeline Item 5 - Pending -->
                        <div style="position: relative;">
                            <div style="position: absolute; left: -2rem; top: 0; width: 20px; height: 20px; background: #e5e7eb; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #e5e7eb;"></div>
                            <div style="background: #f9fafb; padding: 1rem; border-radius: 8px; border-left: 4px solid #e5e7eb;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                    <h4 style="margin: 0; color: var(--text-secondary);">เสร็จสิ้น / Completion</h4>
                                    <span style="background: #e5e7eb; color: var(--text-secondary); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem;">รอดำเนินการ / Pending</span>
                                </div>
                                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">รับยาและคำแนะนำ / Receive medication and instructions</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary Card -->
                <div class="card" style="margin-top: 2rem; background: linear-gradient(135deg, #eff6ff 0%, #ffffff 100%);">
                    <h3 style="color: #3B82F6; margin-bottom: 1rem;">สรุป / Summary</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 8px;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--mfu-green);">2/5</div>
                            <div style="font-size: 0.95rem; color: var(--text-secondary); margin-top: 0.5rem;">ขั้นตอนที่เสร็จแล้ว<br>Steps Completed</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 8px;">
                            <div style="font-size: 2rem; font-weight: 700; color: #3B82F6;">1</div>
                            <div style="font-size: 0.95rem; color: var(--text-secondary); margin-top: 0.5rem;">กำลังดำเนินการ<br>In Progress</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 8px;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--text-secondary);">2</div>
                            <div style="font-size: 0.95rem; color: var(--text-secondary); margin-top: 0.5rem;">รอดำเนินการ<br>Pending</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Show Doctor Instructions
        function showInstructions() {
            updateActiveMenu('instructionsLink');
            
            document.getElementById('mainContent').innerHTML = `
                <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">คำแนะนำแพทย์ / Doctor Instructions</h2>
                
                <!-- Current Instructions -->
                <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #fef3c7 100%); border-left: 6px solid var(--gold-nav);">
                    <h3 style="color: var(--gold-nav); margin-bottom: 1rem;">คำแนะนำล่าสุด / Latest Instructions</h3>
                    <div style="background: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <div>
                                <h4 style="margin: 0; color: var(--mfu-green);">นพ. สมชาย วรรณสุข / Dr. Somchai Wannasuk</h4>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.95rem;">แผนกอายุรกรรม / Internal Medicine</p>
                            </div>
                            <span style="background: #3B82F6; color: white; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem;">รอพบแพทย์ / Waiting</span>
                        </div>
                        <div style="padding: 1rem; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #3B82F6;">
                            <p style="margin: 0; color: var(--text-secondary);">คำแนะนำจะปรากฏหลังจากพบแพทย์</p>
                            <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;"><em>Instructions will appear after consultation</em></p>
                        </div>
                    </div>
                </div>

                <!-- Previous Instructions -->
                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">คำแนะนำก่อนหน้า / Previous Instructions</h3>
                    </div>
                    
                    <!-- Instruction 1 -->
                    <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-gray);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <div>
                                <h4 style="margin: 0; color: var(--mfu-green);">พญ. มาลี สุขใจ / Dr. Malee Sukchai</h4>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.95rem;">แผนกอายุรกรรม / Internal Medicine</p>
                            </div>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">7 ม.ค. 2026 / Jan 7, 2026</span>
                        </div>
                        <div style="background: #f0fdf4; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--mfu-green);">
                            <h5 style="margin: 0 0 0.5rem 0; color: var(--mfu-green);">การรักษา / Treatment:</h5>
                            <ul style="margin: 0.5rem 0; padding-left: 1.5rem; color: var(--text-secondary);">
                                <li>รับประทานยาลดไข้ วันละ 3 ครั้ง หลังอาหาร / Fever medication 3 times daily after meals</li>
                                <li>พักผ่อนให้เพียงพอ / Get adequate rest</li>
                                <li>ดื่มน้ำมากๆ / Drink plenty of water</li>
                            </ul>
                            <h5 style="margin: 1rem 0 0.5rem 0; color: var(--mfu-green);">นัดครั้งถัดไป / Next Appointment:</h5>
                            <p style="margin: 0; color: var(--text-secondary);">14 ม.ค. 2026 เวลา 10:00 น. / Jan 14, 2026 at 10:00 AM</p>
                        </div>
                    </div>

                    <!-- Instruction 2 -->
                    <div style="padding: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <div>
                                <h4 style="margin: 0; color: var(--mfu-green);">นพ. วิชัย เก่งการ / Dr. Wichai Kengkan</h4>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.95rem;">แผนกทันตกรรม / Dental</p>
                            </div>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">20 ธ.ค. 2025 / Dec 20, 2025</span>
                        </div>
                        <div style="background: #f0fdf4; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--mfu-green);">
                            <h5 style="margin: 0 0 0.5rem 0; color: var(--mfu-green);">การรักษา / Treatment:</h5>
                            <ul style="margin: 0.5rem 0; padding-left: 1.5rem; color: var(--text-secondary);">
                                <li>อุดฟันเรียบร้อยแล้ว / Filling completed</li>
                                <li>หลีกเลี่ยงอาหารแข็งด้านที่อุด 24 ชม. / Avoid hard food on filled side for 24 hours</li>
                                <li>แปรงฟันวันละ 2 ครั้ง / Brush teeth twice daily</li>
                            </ul>
                            <h5 style="margin: 1rem 0 0.5rem 0; color: var(--mfu-green);">นัดครั้งถัดไป / Next Appointment:</h5>
                            <p style="margin: 0; color: var(--text-secondary);">ไม่มีนัด กรณีมีอาการติดต่อโรงพยาบาล / No appointment, contact if symptoms occur</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Show AI Wait Time & Notifications
        function showWaitTime() {
            updateActiveMenu('waittimeLink');
            
            document.getElementById('mainContent').innerHTML = `
                <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">เวลารอ AI & การแจ้งเตือน / AI Wait Time & Notifications</h2>
                
                <!-- AI Prediction Card -->
                <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #eff6ff 100%); border-left: 6px solid #3B82F6;">
                    <h3 style="color: #3B82F6; margin-bottom: 1rem;">การทำนายเวลารอ AI / AI Wait Time Prediction</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div style="text-align: center; padding: 1.5rem; background: white; border-radius: 8px; border: 2px solid #3B82F6;">
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem;">เวลารอปัจจุบัน / Current Wait</div>
                            <div style="font-size: 3.5rem; font-weight: 700; color: #3B82F6; line-height: 1;">15</div>
                            <div style="font-size: 1.25rem; color: var(--text-secondary); margin-top: 0.25rem;">นาที / minutes</div>
                        </div>
                        <div style="text-align: center; padding: 1.5rem; background: white; border-radius: 8px;">
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem;">ความแม่นยำ / Accuracy</div>
                            <div style="font-size: 3.5rem; font-weight: 700; color: var(--mfu-green); line-height: 1;">94.2%</div>
                        </div>
                        <div style="text-align: center; padding: 1.5rem; background: white; border-radius: 8px;">
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem;">คนในคิว / In Queue</div>
                            <div style="font-size: 3.5rem; font-weight: 700; color: var(--gold-nav); line-height: 1;">4</div>
                            <div style="font-size: 1.25rem; color: var(--text-secondary); margin-top: 0.25rem;">คน / people</div>
                        </div>
                    </div>

                    <div style="background: white; padding: 1.5rem; border-radius: 8px;">
                        <h4 style="color: #3B82F6; margin: 0 0 1rem 0;">ปัจจัยที่ใช้ในการทำนาย / Prediction Factors</h4>
                        <div style="display: grid; gap: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 40px; height: 40px; background: #dbeafe; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #3B82F6; font-weight: 700;">4</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: var(--text-secondary);">จำนวนผู้ป่วยข้างหน้า / Patients ahead</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 40px; height: 40px; background: #dbeafe; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #3B82F6; font-size: 0.875rem; font-weight: 700;">12m</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: var(--text-secondary);">เวลาเฉลี่ยต่อคน / Average time per patient</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 40px; height: 40px; background: #dbeafe; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #3B82F6; font-weight: 700;">OPD</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: var(--text-secondary);">ประเภทแผนก / Department type</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification Settings -->
                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">การตั้งค่าการแจ้งเตือน / Notification Settings</h3>
                    </div>
                    
                    <div style="padding: 1rem; background: #d1fae5; border-radius: 8px; margin-bottom: 1.5rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <div style="width: 40px; height: 40px; background: var(--mfu-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">ON</div>
                            <div>
                                <div style="font-weight: 600; color: #065f46;">การแจ้งเตือนเปิดอยู่ / Notifications Enabled</div>
                                <div style="font-size: 0.9rem; color: #047857;">คุณจะได้รับการแจ้งเตือนเมื่อใกล้ถึงคิวของคุณ / You will be notified when your queue is near</div>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; gap: 1rem;">
                        <div style="padding: 1rem; background: #f9fafb; border-radius: 8px; border: 1px solid var(--border-gray);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h4 style="margin: 0 0 0.25rem 0; color: var(--mfu-green);">แจ้งเตือนเมื่อเหลือ 3 คน / Alert at 3 patients ahead</h4>
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--text-secondary);">ประมาณ 8-10 นาที / Approximately 8-10 minutes</p>
                                </div>
                                <span style="background: var(--mfu-green); color: white; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600;">เปิด / ON</span>
                            </div>
                        </div>

                        <div style="padding: 1rem; background: #f9fafb; border-radius: 8px; border: 1px solid var(--border-gray);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h4 style="margin: 0 0 0.25rem 0; color: var(--mfu-green);">แจ้งเตือนเมื่อเหลือ 1 คน / Alert at 1 patient ahead</h4>
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--text-secondary);">ประมาณ 3-5 นาที / Approximately 3-5 minutes</p>
                                </div>
                                <span style="background: var(--mfu-green); color: white; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600;">เปิด / ON</span>
                            </div>
                        </div>

                        <div style="padding: 1rem; background: #f9fafb; border-radius: 8px; border: 1px solid var(--border-gray);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h4 style="margin: 0 0 0.25rem 0; color: var(--mfu-green);">แจ้งเตือนถึงคิว / Alert when it's your turn</h4>
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--text-secondary);">กรุณาเข้าห้องตรวจทันที / Please proceed to examination room</p>
                                </div>
                                <span style="background: var(--mfu-green); color: white; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600;">เปิด / ON</span>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem; padding: 1rem; background: #fef3c7; border-radius: 8px; border-left: 4px solid var(--gold-nav);">
                        <strong style="color: #92400e;">หมายเหตุ / Note:</strong>
                        <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.95rem;">
                            กรุณาเปิดการแจ้งเตือนในโทรศัพท์และอยู่ในพื้นที่โรงพยาบาล<br>
                            <em>Please enable phone notifications and stay within hospital area</em>
                        </p>
                    </div>
                </div>
            `;
        }

        // Show Map
        function showMap() {
            updateActiveMenu('mapLink');
            
            document.getElementById('mainContent').innerHTML = `
                <h2 style="color: var(--mfu-green); margin-bottom: 1.5rem;">แผนที่โรงพยาบาล / Hospital Map</h2>
                
                <!-- Map Card -->
                <div class="card" style="background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); border-left: 6px solid var(--mfu-green);">
                    <h3 style="color: var(--mfu-green); margin-bottom: 1rem;">ตำแหน่งของคุณและห้องตรวจ / Your Location & Examination Room</h3>
                    
                    <!-- Map Placeholder -->
                    <div style="background: #f9fafb; border: 2px dashed var(--border-gray); border-radius: 8px; padding: 3rem; text-align: center; margin-bottom: 1.5rem;">
                        <h4 style="color: var(--text-secondary); margin-bottom: 0.5rem;">แผนที่ภายในโรงพยาบาล / Hospital Indoor Map</h4>
                        <p style="color: var(--text-secondary); font-size: 0.95rem;">แผนที่เชิงโต้ตอบจะแสดงที่นี่ / Interactive map will be displayed here</p>
                    </div>

                    <!-- Location Info -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        <div style="background: white; padding: 1.5rem; border-radius: 8px; border: 2px solid var(--mfu-green);">
                            <h4 style="color: var(--mfu-green); margin: 0 0 1rem 0;">ห้องตรวจของคุณ / Your Room</h4>
                            <div style="font-size: 2.5rem; font-weight: 700; color: var(--mfu-green); margin-bottom: 0.5rem;">ห้อง 3</div>
                            <div style="font-size: 1.25rem; color: var(--text-secondary);">Room 3</div>
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-gray);">
                                <p style="margin: 0; color: var(--text-secondary);">ชั้น 2 อาคาร OPD</p>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">Floor 2, OPD Building</p>
                            </div>
                        </div>

                        <div style="background: white; padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border-gray);">
                            <h4 style="color: #3B82F6; margin: 0 0 1rem 0;">ระยะทาง / Distance</h4>
                            <div style="font-size: 2.5rem; font-weight: 700; color: #3B82F6; margin-bottom: 0.5rem;">50 ม.</div>
                            <div style="font-size: 1.25rem; color: var(--text-secondary);">50 meters</div>
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-gray);">
                                <p style="margin: 0; color: var(--text-secondary);">เวลาเดินประมาณ 2 นาที</p>
                                <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">Approximately 2 min walk</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Directions -->
                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">เส้นทาง / Directions</h3>
                    </div>
                    
                    <div style="display: grid; gap: 1rem;">
                        <div style="display: flex; gap: 1rem; padding: 1rem; background: #f0fdf4; border-radius: 8px;">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: var(--mfu-green); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">1</div>
                            <div>
                                <h4 style="margin: 0 0 0.5rem 0; color: var(--mfu-green);">จากตำแหน่งปัจจุบัน / From current location</h4>
                                <p style="margin: 0; color: var(--text-secondary);">เดินตรงไปทางลิฟต์ / Walk straight towards the elevator</p>
                            </div>
                        </div>

                        <div style="display: flex; gap: 1rem; padding: 1rem; background: #f0fdf4; border-radius: 8px;">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: var(--mfu-green); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">2</div>
                            <div>
                                <h4 style="margin: 0 0 0.5rem 0; color: var(--mfu-green);">ขึ้นลิฟต์ / Take elevator</h4>
                                <p style="margin: 0; color: var(--text-secondary);">ขึ้นชั้น 2 อาคาร OPD / Go to Floor 2, OPD Building</p>
                            </div>
                        </div>

                        <div style="display: flex; gap: 1rem; padding: 1rem; background: #f0fdf4; border-radius: 8px;">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: var(--mfu-green); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">3</div>
                            <div>
                                <h4 style="margin: 0 0 0.5rem 0; color: var(--mfu-green);">เลี้ยวขวา / Turn right</h4>
                                <p style="margin: 0; color: var(--text-secondary);">ออกจากลิฟต์แล้วเลี้ยวขวา / After exiting elevator, turn right</p>
                            </div>
                        </div>

                        <div style="display: flex; gap: 1rem; padding: 1rem; background: #d1fae5; border-radius: 8px; border: 2px solid var(--mfu-green);">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: var(--mfu-green); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">4</div>
                            <div>
                                <h4 style="margin: 0 0 0.5rem 0; color: var(--mfu-green);">ห้อง 3 อยู่ทางซ้ายมือ / Room 3 on your left</h4>
                                <p style="margin: 0; color: var(--text-secondary);">เดินประมาณ 20 เมตร / Walk approximately 20 meters</p>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            `;
        }
    </script>
</body>
</html>